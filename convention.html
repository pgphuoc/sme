<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XINK Convention Guide - AI Development Theme</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: AI Dark Mode (Deep Navy, Cyan, Purple) -->
    <!-- Application Structure Plan: The SPA now presents a more sophisticated, layered architecture. The interactive tree is reordered to reflect this (models -> services -> constants -> controllers -> views). New sections for services, utils, and constants are added, promoting a clean separation of concerns. This transforms the guide from a simple convention list into an architectural best-practice manual. -->
    <!-- Visualization & Content Choices: 
        - Folder Structure: Goal: Organize/Explore -> Viz: Two-column layout with a reordered, layered architecture file tree -> Interaction: Click tree item to show corresponding detail panel -> Justification: The new order teaches a better architectural pattern (data -> logic -> presentation). Method: HTML/Tailwind/JS.
        - Service Layer: Goal: Teach Architecture -> Viz: Detailed explanation with code examples for both controller and service -> Interaction: Static reading -> Justification: Clearly illustrates the separation of concerns, which is a core concept. Method: HTML/Tailwind.
        - Other sections remain as is, supporting the overall structure.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #0d1117; /* GitHub Dark Dimmed */
        }
        @import url('https://rsms.me/inter/inter.css');
        .section-card {
            background-color: rgba(13, 17, 23, 0.5); /* transparent dark */
            border-radius: 0.75rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(56, 139, 253, 0.2);
            box-shadow: 0 0 25px rgba(56, 139, 253, 0.1);
            backdrop-filter: blur(10px);
        }
        .nav-link {
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
            white-space: nowrap;
        }
        .nav-link.active, .nav-link:hover {
            color: #4ade80; /* green-400 */
            border-bottom-color: #4ade80;
        }
        .tree-nav-item {
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s, color 0.2s;
            border-left: 2px solid transparent;
        }
        .tree-nav-item:hover {
            background-color: rgba(30, 41, 59, 0.5);
        }
        .tree-nav-item.active {
            background-color: rgba(59, 130, 246, 0.1);
            color: #60a5fa; /* blue-400 */
            border-left-color: #60a5fa;
        }
        .detail-content { display: none; }
        .detail-content.active { display: block; }
        .tooltip { position: absolute; background-color: #1f2937; color: white; padding: 0.25rem 0.5rem; border-radius: 0.375rem; font-size: 0.75rem; display: none; bottom: 100%; left: 50%; transform: translateX(-50%); margin-bottom: 0.5rem; white-space: nowrap; }
        .copy-button:hover .tooltip { display: block; }
        code {
            background-color: rgba(59, 130, 246, 0.1);
            color: #93c5fd; /* blue-300 */
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            font-family: 'Fira Code', 'Courier New', Courier, monospace;
        }
        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            border-radius: 0;
            font-size: inherit;
        }
        .code-block {
             background-color: #011627; /* Night Owl theme */
        }
    </style>
</head>
<body class="bg-gray-900 text-slate-300">

    <header class="bg-transparent py-6">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-300 via-blue-400 to-purple-500">XINK Convention Guide</h1>
            <p class="text-slate-400 mt-2 text-lg">Ná»n táº£ng quy chuáº©n cho cÃ¡c dá»± Ã¡n AI & Development.</p>
        </div>
    </header>

    <nav class="sticky top-0 bg-gray-900/50 backdrop-blur-lg z-10 border-b border-slate-800">
        <div class="container mx-auto px-4">
            <div class="flex justify-center space-x-2 md:space-x-8">
                <a href="#structure" class="nav-link py-3 px-2 font-semibold text-slate-300">Kiáº¿n trÃºc Module</a>
                <a href="#coding" class="nav-link py-3 px-2 font-semibold text-slate-300">Quy chuáº©n chung</a>
                <a href="#generator" class="nav-link py-3 px-2 font-semibold text-slate-300">Code Generator</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 mt-8">
        
        <section id="structure" class="section-card">
            <h2 class="text-3xl font-bold mb-4 text-slate-100">1. Kiáº¿n trÃºc Module & Quy táº¯c chi tiáº¿t</h2>
            <p class="mb-6 text-slate-400">TÆ°Æ¡ng tÃ¡c vá»›i cÃ¢y kiáº¿n trÃºc bÃªn trÃ¡i Ä‘á»ƒ khÃ¡m phÃ¡ cÃ¡c quy táº¯c chi tiáº¿t cho tá»«ng thÃ nh pháº§n. Cáº¥u trÃºc Ä‘Æ°á»£c thiáº¿t káº¿ theo mÃ´ hÃ¬nh phÃ¢n lá»›p Ä‘á»ƒ tá»‘i Æ°u kháº£ nÄƒng báº£o trÃ¬ vÃ  má»Ÿ rá»™ng.</p>
            <div class="grid grid-cols-1 md:grid-cols-12 gap-8 min-h-[500px]">
                <!-- Left Column: Tree -->
                <div class="md:col-span-4 lg:col-span-3 border-r border-slate-800 pr-4 overflow-y-auto">
                    <ul id="structure-tree" class="space-y-1">
                        <li><div class="tree-nav-item active" data-target="#details-welcome">Giá»›i thiá»‡u</div></li>
                        <li class="pt-2"><p class="text-xs font-semibold text-slate-500 uppercase px-2">Core Logic</p></li>
                        <li><div class="tree-nav-item" data-target="#details-manifest">ğŸ“„ __manifest__.py</div></li>
                        <li><div class="tree-nav-item" data-target="#details-models">ğŸ“ models/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-service">ğŸ“ service/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-constant">ğŸ“ constant/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-utils">ğŸ“ utils/</div></li>
                        <li class="pt-2"><p class="text-xs font-semibold text-slate-500 uppercase px-2">Presentation & UI</p></li>
                        <li><div class="tree-nav-item" data-target="#details-controllers">ğŸ“ controllers/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-views">ğŸ“ views/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-wizard">ğŸ“ wizard/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-static">ğŸ“ static/</div></li>
                        <li class="pt-2"><p class="text-xs font-semibold text-slate-500 uppercase px-2">Configuration</p></li>
                        <li><div class="tree-nav-item" data-target="#details-security">ğŸ“ security/</div></li>
                        <li><div class="tree-nav-item" data-target="#details-data">ğŸ“ data/</div></li>
                    </ul>
                </div>
                <!-- Right Column: Details -->
                <div id="structure-details" class="md:col-span-8 lg:col-span-9">
                    <div id="details-welcome" class="detail-content active space-y-4">
                         <h3 class="text-2xl font-bold text-slate-100">Kiáº¿n trÃºc pháº§n má»m hÆ°á»›ng dá»‹ch vá»¥</h3>
                         <p>TÃ i liá»‡u nÃ y Ä‘á»‹nh hÆ°á»›ng viá»‡c xÃ¢y dá»±ng module Odoo theo kiáº¿n trÃºc hiá»‡n Ä‘áº¡i, táº­p trung vÃ o sá»± rÃµ rÃ ng, dá»… báº£o trÃ¬ vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.</p>
                         <p>Má»i tÃ i sáº£n (asset) táº¡o má»›i trong module (tÃªn model, ID record,...) pháº£i sá»­ dá»¥ng tiá»n tá»‘ <code>xink_</code> Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh duy nháº¥t vÃ  nháº¥t quÃ¡n.</p>
                         <ul class="list-disc list-inside space-y-2 pl-4 text-slate-400">
                             <li><strong>TÃ¡ch biá»‡t TrÃ¡ch nhiá»‡m (Separation of Concerns):</strong> Logic nghiá»‡p vá»¥ Ä‘Æ°á»£c tÃ¡ch khá»i táº§ng giao diá»‡n (controller) vÃ  táº§ng dá»¯ liá»‡u (model) thÃ´ng qua cÃ¡c lá»›p <strong>Service</strong>.</li>
                             <li><strong>Dá»… dÃ ng Báº£o trÃ¬:</strong> Viá»‡c thay Ä‘á»•i nghiá»‡p vá»¥ chá»‰ cáº§n cáº­p nháº­t á»Ÿ Service mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c thÃ nh pháº§n khÃ¡c.</li>
                             <li><strong>Kháº£ nÄƒng TÃ¡i sá»­ dá»¥ng:</strong> CÃ¡c hÃ m tiá»‡n Ã­ch (utils) vÃ  háº±ng sá»‘ (constants) Ä‘Æ°á»£c quáº£n lÃ½ táº­p trung, dá»… dÃ ng tÃ¡i sá»­ dá»¥ng trong toÃ n bá»™ dá»± Ã¡n.</li>
                         </ul>
                    </div>
                    <div id="details-manifest" class="detail-content space-y-4">...</div>
                    <div id="details-models" class="detail-content space-y-4">...</div>
                    <div id="details-views" class="detail-content space-y-4">...</div>
                    <div id="details-security" class="detail-content space-y-4">...</div>
                    <div id="details-service" class="detail-content space-y-4">...</div>
                    <div id="details-constant" class="detail-content space-y-4">...</div>
                    <div id="details-utils" class="detail-content space-y-4">...</div>
                    <div id="details-controllers" class="detail-content space-y-4">...</div>
                    <div id="details-data" class="detail-content space-y-4">...</div>
                    <div id="details-static" class="detail-content space-y-4">...</div>
                    <div id="details-wizard" class="detail-content space-y-4">...</div>
                </div>
            </div>
        </section>

        <section id="coding" class="section-card">
            <h2 class="text-3xl font-bold mb-4 text-slate-100">2. Quy chuáº©n chung</h2>
             <p class="mb-6 text-slate-400">CÃ¡c quy táº¯c chung vá» style vÃ  cÃº phÃ¡p cáº§n tuÃ¢n thá»§ trong toÃ n bá»™ dá»± Ã¡n.</p>
             <ul class="space-y-3 text-slate-300 list-disc list-inside">
                <li><strong>Python:</strong> TuÃ¢n thá»§ nghiÃªm ngáº·t <strong>PEP 8</strong>. Sáº¯p xáº¿p import theo thá»© tá»±: thÆ° viá»‡n chuáº©n Python â†’ thÆ° viá»‡n bÃªn thá»© ba â†’ Odoo core â†’ Odoo addons.</li>
                <li><strong>XML:</strong> Thá»¥t lá» báº±ng 2 dáº¥u cÃ¡ch. NhÃ³m cÃ¡c record cÃ³ liÃªn quan logic láº¡i vá»›i nhau.</li>
                <li><strong>TÃªn biáº¿n/hÃ m (Python):</strong> DÃ¹ng <code>snake_case</code> (vÃ­ dá»¥: <code>my_variable</code>, <code>_compute_total()</code>).</li>
                <li><strong>Docstring (Python):</strong> CÃ¡c hÃ m public hoáº·c cÃ³ logic phá»©c táº¡p pháº£i cÃ³ docstring giáº£i thÃ­ch rÃµ rÃ ng.</li>
             </ul>
        </section>
        
        <section id="generator" class="section-card">
            <h2 class="text-3xl font-bold mb-4 text-slate-100">3. Code Generator</h2>
            <p class="mb-6 text-slate-400">Nháº­p cÃ¡c thÃ´ng sá»‘ Ä‘á»ƒ khá»Ÿi táº¡o nhanh cáº¥u trÃºc cÆ¡ báº£n cho module má»›i.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <label for="module-function" class="block text-sm font-medium text-slate-300 mb-1">TÃªn chá»©c nÄƒng (tiáº¿ng Anh)</label>
                    <input type="text" id="module-function" placeholder="VD: AI Content Generation" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md shadow-sm focus:outline-none focus:ring-green-400 focus:border-green-400">
                </div>
                <div>
                    <label for="module-deps" class="block text-sm font-medium text-slate-300 mb-1">Module phá»¥ thuá»™c (phÃ¢n cÃ¡ch báº±ng dáº¥u pháº©y)</label>
                    <input type="text" id="module-deps" placeholder="VD: web, mail" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md shadow-sm focus:outline-none focus:ring-green-400 focus:border-green-400">
                </div>
            </div>

            <div class="mt-8">
                <h3 class="font-semibold text-lg mb-2 text-slate-100">Káº¿t quáº£:</h3>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm font-medium text-slate-400">TÃªn ká»¹ thuáº­t module:</p>
                        <p id="output-module-name" class="p-3 bg-slate-800 rounded-md font-mono text-green-300">xink_...</p>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-slate-400">Ná»™i dung `__manifest__.py`:</p>
                        <div class="code-block rounded-lg overflow-hidden">
                            <pre class="p-4 text-sm text-slate-300 overflow-x-auto"><code id="output-manifest"># Vui lÃ²ng nháº­p tÃªn chá»©c nÄƒng...</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-8 mt-8 border-t border-slate-800">
        <p class="text-sm text-slate-500">&copy; 2025 Xink Tech - Xink SJG. AI-Powered Development Standards.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const detailContentsMap = {
                "details-welcome": `<h3 class="text-2xl font-bold text-slate-100">Kiáº¿n trÃºc pháº§n má»m hÆ°á»›ng dá»‹ch vá»¥</h3><p class="text-slate-400">TÃ i liá»‡u nÃ y Ä‘á»‹nh hÆ°á»›ng viá»‡c xÃ¢y dá»±ng module Odoo theo kiáº¿n trÃºc hiá»‡n Ä‘áº¡i, táº­p trung vÃ o sá»± rÃµ rÃ ng, dá»… báº£o trÃ¬ vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.</p><p class="text-slate-300">Má»i tÃ i sáº£n (asset) táº¡o má»›i trong module (tÃªn model, ID record,...) pháº£i sá»­ dá»¥ng tiá»n tá»‘ <code>xink_</code> Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh duy nháº¥t vÃ  nháº¥t quÃ¡n.</p><ul class="list-disc list-inside space-y-2 pl-4 text-slate-400"><li><strong>TÃ¡ch biá»‡t TrÃ¡ch nhiá»‡m (Separation of Concerns):</strong> Logic nghiá»‡p vá»¥ Ä‘Æ°á»£c tÃ¡ch khá»i táº§ng giao diá»‡n (controller) vÃ  táº§ng dá»¯ liá»‡u (model) thÃ´ng qua cÃ¡c lá»›p <strong>Service</strong>.</li><li><strong>Dá»… dÃ ng Báº£o trÃ¬:</strong> Viá»‡c thay Ä‘á»•i nghiá»‡p vá»¥ chá»‰ cáº§n cáº­p nháº­t á»Ÿ Service mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c thÃ nh pháº§n khÃ¡c.</li><li><strong>Kháº£ nÄƒng TÃ¡i sá»­ dá»¥ng:</strong> CÃ¡c hÃ m tiá»‡n Ã­ch (utils) vÃ  háº±ng sá»‘ (constants) Ä‘Æ°á»£c quáº£n lÃ½ táº­p trung, dá»… dÃ ng tÃ¡i sá»­ dá»¥ng trong toÃ n bá»™ dá»± Ã¡n.</li></ul>`,
                "details-manifest": `<h3 class="text-xl font-bold text-slate-100">ğŸ“„ __manifest__.py</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> LÃ  file "linh há»“n" cá»§a module, khai bÃ¡o má»i thÃ´ng tin, dependencies, vÃ  danh sÃ¡ch cÃ¡c file (xml, csv) cáº§n Ä‘Æ°á»£c load.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c tÃªn module:</h4><p class="text-slate-400">TÃªn ká»¹ thuáº­t cá»§a module pháº£i theo máº«u <code>xink_&lt;tÃªn_chá»©c_nÄƒng&gt;</code>. VÃ­ dá»¥: <code>xink_sale_approval</code>.</p><h4 class="font-semibold text-slate-200 mt-4">LÆ°u Ã½ quan trá»ng:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>Hai key <code>'author': "Xink Tech - Xink SJG"</code> vÃ  <code>'category': 'Tools'</code> lÃ  báº¯t buá»™c vÃ  khÃ´ng thay Ä‘á»•i.</li><li>Thá»© tá»± cÃ¡c file trong key <code>'data'</code> ráº¥t quan trá»ng, tuÃ¢n thá»§: <strong>security â†’ data â†’ wizard â†’ views â†’ report â†’ menu</strong>.</li></ul>`,
                "details-models": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ models/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a logic business cÆ¡ báº£n, Ä‘á»‹nh nghÄ©a cáº¥u trÃºc dá»¯ liá»‡u cá»§a Odoo.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400">TÃªn file nÃªn trÃ¹ng vá»›i tÃªn model chÃ­nh bÃªn trong, viáº¿t báº±ng snake_case. VÃ­ dá»¥: model <code>sale.order</code> Ä‘Æ°á»£c má»Ÿ rá»™ng trong file <code>sale_order.py</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c trong code:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>TÃªn class: <code>PascalCase</code> (vÃ­ dá»¥: <code>XinkSubscription</code>).</li><li>TÃªn model (<code>_name</code>): Báº¯t Ä‘áº§u báº±ng tiá»n tá»‘ <code>xink.</code>. VÃ­ dá»¥: <code>_name = 'xink.subscription'</code>.</li></ul>`,
                "details-views": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ views/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c file XML Ä‘á»‹nh nghÄ©a giao diá»‡n ngÆ°á»i dÃ¹ng nhÆ° views, menu items vÃ  actions.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>Views: <code>&lt;model_name&gt;_views.xml</code> (vÃ­ dá»¥: <code>xink_subscription_views.xml</code>).</li><li>Menus: <code>&lt;module_name&gt;_menus.xml</code> (vÃ­ dá»¥: <code>xink_subscription_menus.xml</code>).</li></ul><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t ID Record XML:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>View: <code>xink_&lt;model_name_underscored&gt;_view_&lt;type&gt;</code> (vÃ­ dá»¥: <code>id="xink_subscription_view_form"</code>).</li><li>Action: <code>xink_&lt;model_name_underscored&gt;_action</code> (vÃ­ dá»¥: <code>id="xink_subscription_action"</code>).</li><li>Menu: <code>xink_&lt;tÃªn_logic&gt;_menu</code> (vÃ­ dá»¥: <code>id="xink_subscription_main_menu"</code>).</li></ul>`,
                "details-security": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ security/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c thiáº¿t láº­p vá» báº£o máº­t, phÃ¢n quyá»n.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li><strong>Báº¯t buá»™c:</strong> <code>ir.model.access.csv</code> Ä‘á»ƒ Ä‘á»‹nh nghÄ©a quyá»n truy cáº­p (ACL) cho cÃ¡c model.</li><li>Groups vÃ  Rules: <code>&lt;module_name&gt;_security.xml</code> (vÃ­ dá»¥: <code>xink_sale_approval_security.xml</code>).</li></ul><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t ID Record XML:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>Group: <code>xink_&lt;tÃªn_logic&gt;_group</code> (vÃ­ dá»¥: <code>id="xink_subscription_user_group"</code>).</li><li>Record Rule: <code>xink_&lt;model_name&gt;_rule_&lt;tÃªn_logic&gt;</code> (vÃ­ dá»¥: <code>id="xink_subscription_rule_own"</code>).</li></ul>`,
                "details-service": `<div class="space-y-4"><h3 class="text-xl font-bold text-slate-100">ğŸ“ service/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c lá»›p Service, nÆ¡i xá»­ lÃ½ chÃ­nh cÃ¡c logic nghiá»‡p vá»¥ phá»©c táº¡p. TÃ¡ch biá»‡t business logic khá»i táº§ng presentation (controller) vÃ  táº§ng data (model).</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400"><code>&lt;tÃªn_logic&gt;_service.py</code>. VÃ­ dá»¥: <code>subscription_service.py</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c trong code:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>TÃªn class: <code>PascalCase</code> + Service. VÃ­ dá»¥: <code>SubscriptionService</code>.</li><li>Service khÃ´ng káº¿ thá»«a tá»« class nÃ o cá»§a Odoo, lÃ  má»™t lá»›p Python thuáº§n.</li><li>HÃ m khá»Ÿi táº¡o (<code>__init__</code>) nháº­n <code>env</code> Ä‘á»ƒ cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c model.</li><li>Controller sáº½ khá»Ÿi táº¡o vÃ  gá»i cÃ¡c phÆ°Æ¡ng thá»©c cá»§a Service Ä‘á»ƒ thá»±c thi nghiá»‡p vá»¥.</li></ul></div>`,
                "details-constant": `<div class="space-y-4"><h3 class="text-xl font-bold text-slate-100">ğŸ“ constant/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> LÆ°u trá»¯ cÃ¡c giÃ¡ trá»‹ khÃ´ng Ä‘á»•i (háº±ng sá»‘) cá»§a module nhÆ° URL, thÃ´ng bÃ¡o lá»—i, tráº¡ng thÃ¡i,... giÃºp dá»… quáº£n lÃ½ vÃ  thay Ä‘á»•i.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400">TÃªn file thá»ƒ hiá»‡n loáº¡i háº±ng sá»‘. VÃ­ dá»¥: <code>message.py</code>, <code>route.py</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c trong code:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>TÃªn biáº¿n háº±ng sá»‘: VIáº¾T HOA TOÃ€N Bá»˜. VÃ­ dá»¥: <code>CANCEL_SUCCESS_MSG = "Há»§y thÃ nh cÃ´ng!"</code>.</li><li>Sá»­ dá»¥ng <code>__init__.py</code> trong folder <code>constant</code> Ä‘á»ƒ import cÃ¡c háº±ng sá»‘, giÃºp viá»‡c gá»i dá»… dÃ ng hÆ¡n.</li></ul></div>`,
                "details-utils": `<div class="space-y-4"><h3 class="text-xl font-bold text-slate-100">ğŸ“ utils/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c hÃ m tiá»‡n Ã­ch cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng trong toÃ n bá»™ module, khÃ´ng thuá»™c vá» má»™t logic nghiá»‡p vá»¥ cá»¥ thá»ƒ nÃ o.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400">TÃªn file thá»ƒ hiá»‡n chá»©c nÄƒng tiá»‡n Ã­ch. VÃ­ dá»¥: <code>datetime_utils.py</code>, <code>format_utils.py</code>.</p></div>`,
                "details-controllers": `<div class="space-y-4"><h3 class="text-xl font-bold text-slate-100">ğŸ“ controllers/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Xá»­ lÃ½ cÃ¡c HTTP request, táº¡o trang web cÃ´ng khai, portal cho khÃ¡ch hÃ ng, hoáº·c API endpoints.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400"><code>main.py</code> cho cÃ¡c route chÃ­nh. CÃ¡c file khÃ¡c nÃªn Ä‘áº·t theo chá»©c nÄƒng, vÃ­ dá»¥ <code>portal.py</code>, <code>api.py</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Kiáº¿n trÃºc khuyáº¿n nghá»‹:</h4><p class="text-slate-400">Controller nÃªn lÃ  má»™t lá»›p má»ng, chá»‰ thá»±c hiá»‡n:<ul class="list-disc list-inside pl-4"><li>Nháº­n vÃ  xÃ¡c thá»±c (validate) dá»¯ liá»‡u tá»« request.</li><li>Gá»i Ä‘áº¿n cÃ¡c lá»›p <strong>Service</strong> Ä‘á»ƒ xá»­ lÃ½ logic nghiá»‡p vá»¥.</li><li>Tráº£ vá» response (render template, redirect, hoáº·c tráº£ JSON).</li></ul><p class="text-amber-300"><strong>KHÃ”NG</strong> chá»©a business logic phá»©c táº¡p trong controller.</p></div>`,
                "details-data": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ data/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c file dá»¯ liá»‡u Ä‘Æ°á»£c khá»Ÿi táº¡o má»™t láº§n khi cÃ i Ä‘áº·t hoáº·c cáº­p nháº­t module (vÃ­ dá»¥: sequences, mail templates, scheduled actions).</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400">Äáº·t tÃªn theo má»¥c Ä‘Ã­ch dá»¯ liá»‡u, vÃ­ dá»¥ <code>mail_template_data.xml</code>, <code>xink_subscription_sequence_data.xml</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t ID Record XML:</h4><p class="text-slate-400">ID pháº£i thá»ƒ hiá»‡n rÃµ record vÃ  cÃ³ tiá»n tá»‘ logic. VÃ­ dá»¥: <code>seq_xink_subscription</code>, <code>mail_template_xink_subscription_welcome</code>.</p><h4 class="font-semibold text-slate-200 mt-4">LÆ°u Ã½ quan trá»ng:</h4><p class="text-slate-400">Sá»­ dá»¥ng <code>noupdate="1"</code> cho cÃ¡c record mÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Ã£ sá»­a Ä‘á»•i Ä‘á»ƒ trÃ¡nh bá»‹ ghi Ä‘Ã¨ khi cáº­p nháº­t module.</p>`,
                "details-static": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ static/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a cÃ¡c file tÄ©nh khÃ´ng Ä‘Æ°á»£c Odoo xá»­ lÃ½ nhÆ° CSS, JavaScript, hÃ¬nh áº£nh, font chá»¯.</p><h4 class="font-semibold text-slate-200 mt-4">Cáº¥u trÃºc thÆ° má»¥c con:</h4><p class="text-slate-400">LuÃ´n tuÃ¢n thá»§ cáº¥u trÃºc <code>src/css/</code>, <code>src/js/</code>, <code>src/xml/</code> (cho QWeb JS), <code>src/img/</code>. Icon cá»§a module pháº£i Ä‘Æ°á»£c Ä‘áº·t táº¡i <code>static/description/icon.png</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c trong code (JS):</h4><p class="text-slate-400">ToÃ n bá»™ code Javascript pháº£i Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bÃªn trong <code>odoo.define(...)</code>. Sá»­ dá»¥ng <code>'use strict';</code> á»Ÿ Ä‘áº§u má»—i block.</p>`,
                "details-wizard": `<h3 class="text-xl font-bold text-slate-100">ğŸ“ wizard/</h3><p class="text-slate-400"><strong>Má»¥c Ä‘Ã­ch:</strong> Chá»©a logic vÃ  view cho cÃ¡c wizard (há»™p thoáº¡i pop-up), sá»­ dá»¥ng <code>models.TransientModel</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t tÃªn file:</h4><p class="text-slate-400">TÃªn file python vÃ  xml pháº£i tÆ°Æ¡ng á»©ng vá»›i nhau. VÃ­ dá»¥: <code>cancel_subscription_wizard.py</code> vÃ  <code>cancel_subscription_wizard_views.xml</code>.</p><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c trong code:</h4><ul class="list-disc list-inside pl-4 text-slate-400"><li>Káº¿ thá»«a tá»« <code>models.TransientModel</code>.</li><li>TÃªn model (<code>_name</code>): <code>xink.wizard.&lt;tÃªn_logic&gt;</code>. VÃ­ dá»¥: <code>_name = 'xink.wizard.cancel.subscription'</code>.</li><li>TÃªn hÃ m action: Pháº£i báº¯t Ä‘áº§u báº±ng <code>action_</code>, vÃ­ dá»¥: <code>def action_confirm(self): ...</code>.</li></ul><h4 class="font-semibold text-slate-200 mt-4">Quy táº¯c Ä‘áº·t ID Record XML:</h4><p class="text-slate-400">TÆ°Æ¡ng tá»± nhÆ° view: <code>xink_wizard_&lt;tÃªn_logic&gt;_view_form</code>.</p>`
            };
            
            for (const id in detailContentsMap) {
                document.getElementById(id).innerHTML = detailContentsMap[id];
            }

            const treeNavItems = document.querySelectorAll('.tree-nav-item');
            const detailContents = document.querySelectorAll('.detail-content');

            treeNavItems.forEach(item => {
                item.addEventListener('click', () => {
                    treeNavItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');

                    const targetId = item.dataset.target;
                    detailContents.forEach(content => {
                        content.classList.remove('active');
                        if ('#' + content.id === targetId) {
                            content.classList.add('active');
                        }
                    });
                });
            });
            
            const functionInput = document.getElementById('module-function');
            const depsInput = document.getElementById('module-deps');
            const outputModuleName = document.getElementById('output-module-name');
            const outputManifest = document.getElementById('output-manifest');

            function generate() {
                const functionName = functionInput.value.trim();
                const deps = depsInput.value.trim().split(',')
                                    .map(d => `'${d.trim()}'`)
                                    .filter(d => d !== "''")
                                    .join(', ');
                if (!functionName) {
                    outputModuleName.innerText = 'xink_...';
                    outputManifest.innerText = '# Vui lÃ²ng nháº­p tÃªn chá»©c nÄƒng...';
                    return;
                }
                const snakeCaseName = functionName.toLowerCase().replace(/\s+/g, '_').replace(/[^a-z0-9_]/g, '');
                const finalModuleName = `xink_${snakeCaseName}`;
                outputModuleName.innerText = finalModuleName;
                const manifestTemplate = `# -*- coding: utf-8 -*-
{
    'name': "XINK - ${functionName}",
    'summary': """MÃ´ táº£ ngáº¯n gá»n chá»©c nÄƒng cá»§a module.""",
    'author': "Xink Tech - Xink SJG",
    'category': 'Tools',
    'version': '17.0.1.0.0',
    'depends': [${deps ? `'base', ${deps}` : "'base'"}],
    'data': [
        'security/ir.model.access.csv',
        'views/views.xml',
    ],
    'installable': True,
}`;
                outputManifest.innerText = manifestTemplate;
            }
            functionInput.addEventListener('input', generate);
            depsInput.addEventListener('input', generate);
        });
    </script>
</body>
</html>
